/**
 * الصقري للاتصالات - PWA وتجربة الجوال
 * Safe area، أهداف اللمس، وتحسينات للشاشات الصغيرة
 */

/* --- Safe area للشاشات ذات النتوء (Notch) --- */
body {
  padding-top: calc(70px + env(safe-area-inset-top, 0px)) !important;
  padding-left: env(safe-area-inset-left, 0);
  padding-right: env(safe-area-inset-right, 0);
  padding-bottom: env(safe-area-inset-bottom, 0);
}

.navbar {
  padding-top: env(safe-area-inset-top, 0);
  padding-left: env(safe-area-inset-left, 0);
  padding-right: env(safe-area-inset-right, 0);
}

/* شريط التنقل ثابت مع منطقة آمنة */
.navbar.fixed-top {
  top: 0;
  left: 0;
  right: 0;
}

/* --- أهداف اللمس (44px كحد أدنى) --- */
@media (max-width: 768px) {
  .btn:not(.btn-sm),
  .nav-link,
  .dropdown-item,
  a.btn {
    min-height: 44px;
    min-width: 44px;
    display: inline-flex;
    align-items: center;
    justify-content: center;
  }

  .form-control,
  .form-select {
    min-height: 44px;
    font-size: 16px; /* يقلل التكبير التلقائي على iOS */
  }

  .dropdown-toggle {
    padding: 0.5rem 1rem;
  }
}

/* --- تحسينات الجوال --- */
@media (max-width: 768px) {
  .container,
  .container-fluid {
    padding-left: 0.75rem;
    padding-right: 0.75rem;
  }

  .card-body {
    padding: 1rem;
  }

  .card-header {
    padding: 0.75rem 1rem;
    font-size: 1rem;
  }

  h1, .h1 { font-size: 1.5rem; }
  h2, .h2 { font-size: 1.35rem; }
  h3, .h3 { font-size: 1.2rem; }
  h4, .h4 { font-size: 1.1rem; }
  h5, .h5 { font-size: 1rem; }

  /* أزرار وعرض كامل حيث مناسب */
  .d-flex.justify-content-between.align-items-center.mb-4 {
    flex-direction: column;
    align-items: stretch;
    gap: 0.75rem;
  }

  .d-flex.justify-content-between.align-items-center.mb-4 .btn,
  .d-flex.justify-content-between.align-items-center.mb-4 > div .btn {
    width: 100%;
  }

  .d-flex.justify-content-between.align-items-center.mb-4 h2 {
    text-align: center;
    margin-bottom: 0;
  }

  /* جداول: تأكد من التمرير الأفقي */
  .table-responsive {
    -webkit-overflow-scrolling: touch;
    margin-bottom: 1rem;
  }

  .table {
    font-size: 0.9rem;
  }

  .table th,
  .table td {
    padding: 0.5rem;
    white-space: nowrap;
  }

  /* صفوف الفلتر والنماذج */
  .row.g-3 .col-md-3,
  .row.g-3 .col-md-6 {
    margin-bottom: 0.5rem;
  }

  .row.align-items-end .col-md-3 {
    margin-bottom: 0.75rem;
  }
}

/* تحسينات إضافية للشاشات جداً صغيرة */
@media (max-width: 380px) {
  .navbar-brand {
    font-size: 0.95rem;
  }

  .card-body {
    padding: 0.75rem;
  }
}

/* وضع standalone (عند فتح التطبيق من الشاشة الرئيسية) */
@media (display-mode: standalone) {
  body {
    user-select: none;
    -webkit-user-select: none;
  }

  input, textarea, [contenteditable] {
    user-select: text;
    -webkit-user-select: text;
  }
}
